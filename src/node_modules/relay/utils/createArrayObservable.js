import Rx from 'rx'

export default function createArrayObservable(array) {
  if (array.length === 0) {
    return Rx.Observable.just(array)
  }

  return Rx.Observable.combineLatest(
    ...array.map(value => {
      if (value instanceof Rx.Observable) {
        return value
      } else {
        return Rx.Observable.just(value)
      }
    }),
    (...array) => array.filter(i => i !== undefined)
  )
}
